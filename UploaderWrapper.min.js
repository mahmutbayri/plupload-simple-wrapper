(function(b){var a=function(){var e="";var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var d=0;d<5;d++){e+=c.charAt(Math.floor(Math.random()*c.length))}return e};b.uploaderWrapper=function(g,l){var e={browseButtonText:"Browse File"};var i=this;i.settings={};var k=b(g),c=a();i.settings=b.extend({},e,l);var f=b('<div id="plupload_console_'+c+'"></div>');var d=b('<span  id="plupload_browse_'+c+'">'+i.settings.browseButtonText+"</span>");k.html(f);k.append(d);var j={runtimes:"html5",container:k.get(0),browse_button:d.get(0),url:i.settings.url,multi_selection:false,filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg"}]},init:{PostInit:function(){},FilesAdded:function(m,n){if(m.files.length==2){m.removeFile(m.files[0])}b.each(n,function(p,o){f.html(o.name+" ("+plupload.formatSize(o.size)+") <b></b>")});m.refresh();m.start()},UploadComplete:function(m){f.html("Completed.");setTimeout(function(){f.empty()},2000)},UploadProgress:function(m,n){f.find("b").html(n.percent)},StateChanged:function(m){if(m.state==plupload.STARTED){d.hide()}else{if(m.state==plupload.STOPPED){d.show()}}}}};var h=new plupload.Uploader(j);h.init();i.uploader=h};b.fn.uploaderWrapper=function(c){return this.each(function(){var d=new b.uploaderWrapper(this,c);b(this).data("uploaderWrapper",d)})}}(jQuery));